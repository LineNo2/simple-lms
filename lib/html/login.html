<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>simple lms</title>
  <script>
	function submitForm(event) {
  event.preventDefault(); // 폼 제출 막기

  const form = document.getElementById('login-form');
  const data = {
    id: form.id.value,
    pw: form.pw.value,
  };
  const xhr = new XMLHttpRequest();
  xhr.open('POST', '/login');
  xhr.setRequestHeader('Content-Type', 'application/json');
  xhr.onload = function() {
    if (xhr.status != 200) {
      alert(xhr.responseText); 
	}
	else{
	  window.location = '/';
	}
  };
  xhr.send(JSON.stringify(data));
}
  </script>
</head>
<body>
<h1>로그인</h1>
	<form action="/login" method="POST" onsubmit="submitForm(event)" id="login-form">
		<label for="id">아이디:</label>
		<input type="text" id="id" name="id" required><br>

		<label for="pw">비밀번호:</label>
		<input type="password" id="pw" name="pw" required><br>

		<button type="submit">로그인</button>
	</form>
</body>
</html>
